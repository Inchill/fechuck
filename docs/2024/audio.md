# 音频处理

## 背景

在一次需求中，需要在 B 端对音频进行录制，然后再上传到 CDN，最后提供给 C 端用户。其中踩了不少坑，在此记录一下全过程。

## 录制

这里采用的是 `js-audio-recorder` 这个库，主要用于Web端录制短音频，它支持的功能主要有：

+ 支持录音，暂停，恢复，和录音播放。
+ 支持音频数据的压缩，支持单双通道录音。
+ 支持录音时长、录音大小的显示。
+ 支持导出录音文件，格式为pcm或wav。
+ 支持录音波形显示，可自己定制。
+ 录音数据支持第三方平台的语音识别。
+ 支持MP3（借助[lamejs](https://github.com/zhuker/lamejs)）。

我使用的版本是 `1.0.7`，已经不支持边录边转了。

先来看看有关这个库需要前置了解的知识点。

### sampleBits

sampleBits 采样位数，可以理解数字音频设备处理声音的解析度，即对声音的辨析度。就像表示颜色的位数一样（8 位表示 256 种颜色，16位表示 65536 种颜色），有 8、16、24 位等
。这个数值越大，解析度就越高，录制和回放的声音就越真实。

### sampleRate

采样率
